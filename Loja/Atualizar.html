<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <link rel="stylesheet" href="../css/bootstrap_4_3/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/Loja/dados.css">
    <title>Meus dados</title>
    <!-- Custom fonts for this template -->
    <link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="../assets/font-awesome-4.7.0/css/font-awesome.min.css">
    <!-- Custom styles for this template -->
    <link href="../css/sb-admin-2.min.css" rel="stylesheet">

    <!-- Custom styles for this page -->
    <link href="../vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/listaProdutos.css">
    <link rel="stylesheet" href="../css/star.css">
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script src="../js/listaProdutos.js"></script>
    <script src="../js/atualizarDados.js"></script>
    <script src="../js/tratamentosCadastro.js"></script>
    <script src="../js/cadastrarImagem.js"></script>
    <script src="../js/login.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../css/bootstrap_4_3/js/bootstrap.min.js">
    </script>

    <script>
        $(document).ready(function esconder() {
            $('#loading').hide()
            $('#alertaSucesso').hide()
            $('#alertaErro').hide()
        });
    </script>


</head>

<body>
    <header>
        <a href="../Loja/indexLoja.html">
            <img src="../assets/images/logo.svg" class="img-fluid image" alt="Logo da empresa - Bomba patch">
        </a>

    </header>

    <div class="form-row mt-5">
        <nav class="form-group col-md-2 menu-left menu-left-open">
            <a id="Pedidos"><img class="img-fluid ai-26px" src="https://img.icons8.com/metro/26/000000/checkout.png" /><span class="ml-10px">Pedidos</span></a>
            <a id="Cadastro"><img class="img-fluid ai-26px" src="https://img.icons8.com/windows/32/000000/edit-user.png" /> <span class="ml-5px">Cadastro</span></a>
            <a id="Endereco"><img class="img-fluid ai-26px" src="https://img.icons8.com/material-rounded/100/000000/address.png" /><span class="ml-10px">Endereço</span> </a>
            <a id="Cartoes"><img class="img-fluid ai-26px" src="https://img.icons8.com/ios/100/000000/bank-card-back-side.png" /><span class="ml-10px">Cartões</span></a>
        </nav>

        <div id="pedidosTable" class="card form-group col-md-9">
            <div class="card-body">
                <form>
                    <div class="form-row">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTablePedidos" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th>Número</th>
                                            <th>Data</th>
                                            <th>Valor total</th>
                                            <th>Status</th>
                                            <th>Detalhe</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Número</th>
                                            <th>Data</th>
                                            <th>Valor total</th>
                                            <th>Status</th>
                                            <th>Detalhe</th>
                                        </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>


                </form>
        </div>
        </div>
        <!--Inicio cadastro-->
        <div id="updateDados" class="card form-group col-md-9">
            <div class="card-body">
                <form>
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <span>Nome e sobrenome</span>
                            <input type="text" id="nome" class="form-control inputAjuste" name="nome" placeholder="Nome">
                            <!--<span id="nomeInvalido" style="color: red;">Digite um nome válido (Deverá conter ao menos 3 digitos no nome e sobrenome)</span>-->
                        </div>
                        <div class="form-group col-md-12">
                            <span>Email</span>
                            <input type="email" id="email" class="form-control inputAjuste" name="email" placeholder="Digite seu email" disabled>
                            <!--<span id="emailInvalido" style="color: red;">Digite um email válido</span>-->
                        </div>

                        <!-- CPF -->
                        <div class="form-group col-md-6">
                            <span>CPF</span>
                            <input type="text" class="form-control inputAjuste" id="cpf" name="cpf" size="12" maxlength="14" placeholder="CPF" disabled>
                            <!--<span id="cpfInvalido" style="color: red;">Digite um CPF válido</span>-->
                        </div>
                        <!-- DATANASICMENTO  -->
                        <div class="form-group col-md-6">
                            <span>Data de nascimento</span>
                            <input type="text" id="dataNascimento" name="dataNascimento" class="form-control inputAjuste" placeholder="Data de nascimento" maxlength="10" disabled/>
                            <!--<span id="dataInvalida" style="color: red; ">Data de nascimento inválida</span>-->
                        </div>

                        <!-- Password -->
                        <div class="form-group col-md-6">
                            <span>Senha</span>
                            <input type="password" id="password" class="form-control inputAjuste" name="password" placeholder="Senha">
                            <!--<span id="senhaInvalida" style="color: red; ">A senha deve conter no mínimo 3 caracteres</span>-->
                        </div>


                        <div class="form-group col-md-6">
                            <span>Confirmar senha</span>
                            <input type="password" id="passwordConfirm" class="form-control inputAjuste" name="passwordConfirm" placeholder="Senha">
                            <!--<span id="senhaConfirmInvalida" style="color: red; ">As senhas não coicidem</span>-->
                        </div>




                        <div class="form-group col-md-6">
                            <span>Sexo</span>
                            <select id="sexo" class="form-control selectAjuste">
                        <option value="M">Masculino</option>
                        <option value="F">Feminino</option>
                    </select>
                        </div>

                        <!-- CELULAR  / WHATSAPP -->
                        <div class="form-group col-md-6">
                            <span>Celular</span>

                            <input type="text" id="celular" name="celular" class="form-control inputAjuste" placeholder="(99) 99999-9999" maxlength="14" />

                            <!--<span id="celularInvalido"  style="color: red;">Digite um celular válido</span>-->
                        </div>
                        <div class="center-block text-center">
                            <input id="idDadosClienteAlterar" type="hidden" />
                            <a class="btn btn-primary" onclick="atualizaDados()" style="margin-left: 215px; color: white; cursor: pointer;">Alterar Dados</a>
                        </div>
                    </div>

                </form>

            </div>
        </div>
        <!--Encerra cadastro-->
        
        <div id="updateEndereco" class="card form-group col-md-9">
            <a class="btn btn-primary" id="voltarPagamento" href="./Pagamento.html" style=" color: white; cursor: pointer;">ir para pagamento</a>
            <div class="card-body">
                <form>
                    <div class="form-row">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th>Rua</th>
                                            <th>Número</th>
                                            <th>Complemento</th>
                                            <th>Bairro</th>
                                            <th>Estado</th>
                                            <th>Cidade</th>
                                            <th>CEP</th>
                                            <th>Tipo</th>
                                            <th>Editar Endereço</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Rua</th>
                                            <th>Número</th>
                                            <th>Complemento</th>
                                            <th>Bairro</th>
                                            <th>Estado</th>
                                            <th>Cidade</th>
                                            <th>CEP</th>
                                            <th>Tipo</th>
                                            <th>Editar Endereço</th>
                                        </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>


                </form>

                <a class="btn btn-primary" id="adicionarNovo" style="margin-left: 0px; color: white; cursor: pointer;">Adicionar</a>
                <div id="inserirEndereco">
                <h1>Inserir novo Endereço</h1>

                <form action="" style="display: block;">
                    <!-- CEP -->
                    <div class="form-group col-md-6">

                        <span>CEP</span>

                        <input type="text" id="cepFatura" class="form-control" name="form_txt" maxlength="9">
                        <!--<span id="cepInvalido" style="color: red;">CEP inválido</span>-->
                        <!--<span id="cepNaoEncontrado" style="color: red;">CEP informado não foi encontrado</span>-->

                    </div>

                    <!-- RUA -->
                    <div class="form-group col-md-6">
                        <span>Rua</span>
                        <input type="text" id="ruaFatura" class="form-control" name="form_txt">

                    </div>


                    <div class="form-group col-md-6">
                        <span>Número</span>
                        <input type="text" id="numeroFatura" class="form-control" name="form_txt">
                        <!-- <span id="numeroInvalido"  style="color: red;">Digite um número válido</span>-->

                    </div>


                    <div class="form-group col-md-6">
                        <span>Complemento</span>
                        <input type="text" id="complementoFatura" class="form-control" name="form_txt">

                    </div>

                    <!-- BAIRRO -->
                    <div class="form-group col-md-6">
                        <span>Bairro</span>
                        <input type="text" id="bairroFatura" class="form-control" name="form_txt">

                    </div>

                    <!-- ESTADO -->
                    <div class="form-group col-md-6">
                        <Span>Estado</Span>
                        <input type="text" id="estadoFatura" class="form-control" name="form_txt">

                    </div>

                    <!-- CIDADE -->
                    <div class="form-group col-md-6">
                        <span>Cidade</span>
                        <input type="text" id="cidadeFatura" class="form-control" name="form_txt">

                    </div>

                    <div class="form-group col-md-6">
                        <span>Tipo Endereço</span>
                        <select class="form-control" name="Endereco" id="tipoFatura">
                                <option value="E">Endereço de Entrega</option>
                                <option value="F">Endereço de faturamento</option>
                                <option value="*">Endereço de entrega e faturamento</option>
                            </select>
                    </div>

                    <a class="btn btn-primary" onclick="enviarEndereco()" id="addEndereco" style="margin-left: 0px; color: white; cursor: pointer;">Confirmar</a>

                </form>
            </div>





            </div>
        </div>

    </div>

    <div class="modal fade" id="mostrarModalEditarEndereco" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Editar registro do usuário</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
                </div>
                <div class="modal-body">

                    <div class="container-fluid">

                        <!--MODAL ALTERAR-->

                        <form action="" style="display: block;">
                            <!-- CEP -->
                            <div class="form-group col-md-6">

                                <span>CEP</span>

                                <input type="text" id="cep" class="form-control" name="cep" maxlength="9">
                                <!--<span id="cepInvalido" style="color: red;">CEP inválido</span>-->
                                <!--<span id="cepNaoEncontrado" style="color: red;">CEP informado não foi encontrado</span>-->

                            </div>

                            <!-- RUA -->
                            <div class="form-group col-md-6">
                                <span>Rua</span>
                                <input type="text" id="rua" class="form-control" name="rua">

                            </div>


                            <div class="form-group col-md-6">
                                <span>Número</span>
                                <input type="text" id="numero" class="form-control" name="numero">
                                <!-- <span id="numeroInvalido"  style="color: red;">Digite um número válido</span>-->

                            </div>


                            <div class="form-group col-md-6">
                                <span>Complemento</span>
                                <input type="text" id="complemento" class="form-control" name="complemento">

                            </div>

                            <!-- BAIRRO -->
                            <div class="form-group col-md-6">
                                <span>Bairro</span>
                                <input type="text" id="bairro" class="form-control" name="bairro">

                            </div>

                            <!-- ESTADO -->
                            <div class="form-group col-md-6">
                                <Span>Estado</Span>
                                <input type="text" id="estado" class="form-control" name="estado">

                            </div>

                            <!-- CIDADE -->
                            <div class="form-group col-md-6">
                                <span>Cidade</span>
                                <input type="text" id="cidade" class="form-control" name="cidade">

                            </div>
                            <input id="idEnderecoAlterar" type="hidden" />
                            <input id="idEndereco" type="hidden" />

                            <div class="form-group col-md-6">
                                <span>Tipo Endereço</span>
                                <select class="form-control" name="Endereco" id="tipo">
                                <option value="E">Endereço de Entrega</option>
                                <option value="F">Endereço de faturamento</option>
                                <option value="*">Endereço de entrega e faturamento</option>
                            </select>
                            </div>


                        </form>

                        <input id="idUsuarioAlterar" type="hidden" />
                        <br>
                        <div class="alert alert-success" role="alert" id="alertaSucesso">
                            <span>Endereço adicionado com sucesso</span>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="atualizarEndereco()">Confirmar</button>
                </div>

            </div>
        </div>
    </div>

   <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Large modal</button>-->

        <div id="pedidosDetalhado" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
        <div class="modal-content">
            
            <h5 class="modal-title">Produtos do pedido</h5>

            <div class="card-body">
                <form>
                    <div class="form-row">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTablePedidosDetalhado" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Valor</th>
                                            <th>Quantidade</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Valor</th>
                                            <th>Quantidade</th>
                                        </tr>
                                    </tfoot>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>
                </form>
                
        </div>

        

        </div>
        </div>
        </div>

    


    <script src="../assets/JQueyMask/src/jquery.mask.js"></script>

    <script src="../js/atualizarDados.js"></script>




    <script>
        buscarCliente();
    </script>
    <script>
        var dados = localStorage.getItem('dadosUsuario');
        var user = dados.split(',');
        var idUsuario = user[0];

        $(document).ready(function() {
            getEnderecosLista(idUsuario);
            getClientePedidos(idUsuario)
        });
    </script>
</body>

</html>